<% title "Idea" %>
<table class="govuk-table">
  <tr class="govuk-table__row">
    <th class="govuk-table__header" scope="row">Area of Intrest:</th>
    <td class="govuk-table__cell"><%= @idea.area_of_interest%></td>
  </tr>
  <tr class="govuk-table__row">
    <th class="govuk-table__header" scope="row">Business Area:</th>
    <td class="govuk-table__cell"><%= @idea.business_area %></td>
  </tr>
  <tr class="govuk-table__row">
    <th class="govuk-table__header" scope="row">It System:</th>
    <td class="govuk-table__cell"><%= @idea.it_system %></td>
  </tr>
  <tr class="govuk-table__row">
    <th class="govuk-table__header" scope="row">Title:</th>
    <td class="govuk-table__cell"><%= @idea.title %></td>
  </tr>
  <tr class="govuk-table__row">
    <th class="govuk-table__header" scope="row">Idea:</th>
    <td class="govuk-table__cell"><%= @idea.idea %></td>
  </tr>
  <tr class="govuk-table__row">
    <th class="govuk-table__header" scope="row">Benefits:</th>
    <td class="govuk-table__cell"><%= @idea.benefits %></td>
  </tr>
  <tr class="govuk-table__row">
    <th class="govuk-table__header" scope="row">Impact:</th>
    <td class="govuk-table__cell"><%= @idea.impact %></td>
  </tr>
  <tr class="govuk-table__row">
    <th class="govuk-table__header" scope="row">Involvement: </th>
    <td class="govuk-table__cell"><%= @idea.involvement %></td>
  </tr>
  <tr class="govuk-table__row">
    <th class="govuk-table__header" scope="row">Submission Date:</th>
    <td class="govuk-table__cell"><%= @idea.submission_date&.strftime("%e %B %Y") %></td>
  </tr>
  <tr class="govuk-table__row">
    <th class="govuk-table__header" scope="row">Assigned User:</th>
    <td class="govuk-table__cell"><%= @idea.assigned_user %></td>
  </tr>
  <tr class="govuk-table__row">
    <th class="govuk-table__header" scope="row">Participation Level </th>
    <td class="govuk-table__cell"><%= @idea.participation_level%></td>
  </tr>
  <tr class="govuk-table__row">
    <th class="govuk-table__header" scope="row">Status:</th>
    <td class="govuk-table__cell"><%= @idea.status%></td>
  </tr>
  <tr class="govuk-table__row">
    <th class="govuk-table__header" scope="row">Review Date:</th>
    <td class="govuk-table__cell"><%= @idea.review_date&.strftime("%e %B %Y") %></td>
  </tr>
</table>
<%= link_to 'Edit', edit_idea_path(@idea), class: "govuk-button" %>
  <p class="govuk-body"></p>
<% if @idea.draft? %>
  <%= button_to 'Submit idea', idea_submit_path(@idea), class: "govuk-button" %>
<% end %>
  <p class="govuk-body"></p>

<% if @idea.approved_by_admin? %>
  <ul id="vote" class="govuk-list">
    <li><h4 class="govuk-heading-s">Votes</h4></li>
    <li><h4 class="govuk-heading-s"><%= @idea.votes.count %></h4></li>
    <li>
      <% if @idea.user_voted?(current_user) %>
        <%= button_to 'Remove Vote', idea_vote_path(@idea, @vote.id), method: :delete, class: "govuk-button" %>
      <% else %>
        <%= button_to 'Vote', idea_votes_path(@idea), class: "govuk-button" %>
      <% end %>
    </li>
  </ul>
<% end %>


<p class="govuk-body"></p>
<% if user_can_comment?(@idea, current_user) %>


  <p class="govuk-body"></p>
  <table class="govuk-table">
    <%= render 'comments/comment_list', comments: @idea.comments %>
  </table>
  <%= link_to 'Add Comment', new_idea_comment_path(@idea), class: "govuk-button" %>
<% end %>
<p class="govuk-body"></p>

<%= link_to 'Back', ideas_path %>
